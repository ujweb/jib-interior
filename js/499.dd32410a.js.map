{"version":3,"file":"js/499.dd32410a.js","mappings":"sMACWA,MAAM,S,GACRA,MAAM,a,GACAA,MAAM,Q,GACRA,MAAM,O,GACJA,MAAM,2F,uSAgBPC,EAAAA,EAAAA,GAA8B,OAAzBD,MAAM,QAAO,UAAM,G,GACxBC,EAAAA,EAAAA,GAA0B,MAAtBD,MAAM,QAAO,QAAI,G,GADrBE,EACAC,G,GAGCH,MAAM,0B,GACTC,EAAAA,EAAAA,GAA0B,MAAtBD,MAAM,QAAO,QAAI,G,GAChBA,MAAM,oB,mBAYCA,MAAM,mB,GAETA,MAAM,a,GACJA,MAAM,sB,GAaJA,MAAM,yB,GAERA,MAAM,4C,GAOdA,MAAM,oC,GACJA,MAAM,qC,GACTC,EAAAA,EAAAA,GAA2B,MAAvBD,MAAM,SAAQ,QAAI,G,GACjBA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,oBAAmB,QAAI,G,SAC7BA,MAAM,oB,SACNA,MAAM,qB,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,oBAAmB,QAAI,G,GAC9BA,MAAM,a,GAEPA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,oBAAmB,QAAI,G,GAC7BA,MAAM,Q,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAA0C,OAArCD,MAAM,oBAAmB,UAAM,G,GAC/BA,MAAM,Q,GAEbC,EAAAA,EAAAA,GAAkB,MAAdD,MAAM,SAAO,S,GACZA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAyC,OAApCD,MAAM,oBAAmB,SAAK,G,GAC9BA,MAAM,Q,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAyC,OAApCD,MAAM,oBAAmB,SAAK,G,GAC9BA,MAAM,Q,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,oBAAmB,QAAI,G,GAC7BA,MAAM,Q,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,oBAAmB,QAAI,G,GAC7BA,MAAM,Q,GAERA,MAAM,mC,GACTC,EAAAA,EAAAA,GAAsC,OAAjCD,MAAM,oBAAmB,MAAE,G,IAC3BA,MAAM,Q,4EAtGzBI,EAAAA,EAAAA,IAmHU,UAnHV,EAmHU,EAlHRH,EAAAA,EAAAA,GAiHM,MAjHN,EAiHM,EAhHJA,EAAAA,EAAAA,GA+GU,UA/GV,EA+GU,EA9GRA,EAAAA,EAAAA,GA6GM,MA7GN,EA6GM,EA5GJA,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,CAjBJI,GASAJ,EAAAA,EAAAA,GAGuB,QAFrBD,OAAK,SAAC,0BAAyB,kBACJM,EAAAA,OAAOC,YACnC,kBAAe,IAChBN,EAAAA,EAAAA,GAGM,OAHDD,OAAK,SAAC,YAAW,kBAA4BM,EAAAA,OAAOC,YAAzD,QAKFN,EAAAA,EAAAA,GAsCM,MAtCN,EAsCM,CArCJO,GACAP,EAAAA,EAAAA,GAmCM,MAnCN,EAmCM,gBAlCJG,EAAAA,EAAAA,IAiCMK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA/BcJ,EAAAA,UAAXK,K,WAFTP,EAAAA,EAAAA,IAiCM,OAhCJJ,MAAM,uBAELY,IAAKD,EAAQE,IAHhB,EAKEC,EAAAA,EAAAA,IAOaC,GAAA,CAPAC,GAAE,YAAcL,EAAQA,QAAQE,KAAMb,MAAM,kBAAzD,C,kBACE,IAIC,EAJDC,EAAAA,EAAAA,GAIC,OAHEgB,IAAG,GAAKN,EAAQA,QAAQO,WACzBlB,MAAM,YACLmB,IAAG,GAAKR,EAAQA,QAAQS,aAH3B,WAKAnB,EAAAA,EAAAA,GAAgE,OAAhE,GAAgEoB,EAAAA,EAAAA,IAA/BV,EAAQA,QAAQS,OAAK,M,KANxD,cAQAnB,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBJA,EAAAA,EAAAA,GAcM,MAdN,EAcM,EAbJa,EAAAA,EAAAA,IAKaC,GAAA,CAJVC,GAAE,sBAAwBL,EAAQA,QAAQW,WAC3CtB,MAAM,0CAFR,C,kBAIE,IAA8B,mBAA3BW,EAAQA,QAAQW,UAAQ,M,KAJ7B,cAMAR,EAAAA,EAAAA,IAKaC,GAAA,CAJVC,GAAE,YAAcL,EAAQY,aACzBvB,MAAM,mCAFR,C,kBAIE,IAA2B,mBAAxBW,EAAQA,QAAQS,OAAK,M,KAJ1B,cAMAnB,EAAAA,EAAAA,GAA6D,MAA7D,EAAmC,OAAGoB,EAAAA,EAAAA,IAAGV,EAAQa,KAAG,MAEtDvB,EAAAA,EAAAA,GAEM,MAFN,EAAsD,QACjDoB,EAAAA,EAAAA,IAAGV,EAAQc,YAAYC,kBAAc,UA9B9C,WAoCJzB,EAAAA,EAAAA,GAgDM,MAhDN,EAgDM,EA/CJA,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,CA7CJ0B,GACA1B,EAAAA,EAAAA,GAIM,MAJN,EAIM,CAHJ2B,EACqCtB,EAAAA,OAAOC,UAA5C,WACAH,EAAAA,EAAAA,IAA+C,MAA/C,EAAsC,UADMG,EAAAA,EAAAA,OAA5CH,EAAAA,EAAAA,IAA8D,MAA9D,EAAqD,WAGvDH,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ4B,GACA5B,EAAAA,EAAAA,GAA2D,KAA3D,EAAsB,QAAIoB,EAAAA,EAAAA,IAAGS,GAAAA,SAASxB,EAAAA,OAAOyB,QAAK,MAEpD9B,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ+B,GACA/B,EAAAA,EAAAA,GAAuC,MAAvC,GAAuCoB,EAAAA,EAAAA,IAAlBf,EAAAA,OAAOO,IAAE,MAEhCZ,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJgC,GACAhC,EAAAA,EAAAA,GAAsD,MAAtD,GAAsDoB,EAAAA,EAAAA,IAAjCS,GAAAA,OAAOxB,EAAAA,OAAO4B,YAAS,KAE9CC,GACAlC,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJmC,GACAnC,EAAAA,EAAAA,GAAgD,MAAhD,GAAgDoB,EAAAA,EAAAA,IAA3Bf,EAAAA,OAAO+B,MAAMC,OAAK,MAEzCrC,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJsC,GACAtC,EAAAA,EAAAA,GAA+C,MAA/C,GAA+CoB,EAAAA,EAAAA,IAA1Bf,EAAAA,OAAO+B,MAAMG,MAAI,MAExCvC,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJwC,GACAxC,EAAAA,EAAAA,GAA8C,MAA9C,GAA8CoB,EAAAA,EAAAA,IAAzBf,EAAAA,OAAO+B,MAAMK,KAAG,MAEvCzC,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ0C,GACA1C,EAAAA,EAAAA,GAAkD,MAAlD,GAAkDoB,EAAAA,EAAAA,IAA7Bf,EAAAA,OAAO+B,MAAMO,SAAO,MAE3C3C,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ4C,GACA5C,EAAAA,EAAAA,GAA4C,MAA5C,IAA4CoB,EAAAA,EAAAA,IAAvBf,EAAAA,OAAOwC,SAAO,KAK5BxC,EAAAA,OAAOC,SAHhB,iBAGgBA,EAAAA,EAAAA,OAHhBH,EAAAA,EAAAA,IAKc,U,MAJZ2C,KAAK,SACL/C,MAAM,0CAELgD,QAAK,oBAAElB,GAAAA,UAAAA,GAAAA,YAAAA,KACT,qBAUf,QACEmB,OACE,MAAO,CACLC,OAAQ,GACRC,SAAU,KAGdC,MAAO,CAAC,eAAgB,YACxBC,OAAQ,CAAC,eACTC,UACEC,KAAKC,SAASC,KAAK,gBAAgB,GACnCF,KAAKG,MAAM,YACXC,SAASC,KAAKC,UAAUC,IAAI,cAC5BH,SAASC,KAAKC,UAAUE,OAAO,cAC/BJ,SAASC,KAAKC,UAAUE,OAAO,cAC/BJ,SAASC,KAAKC,UAAUC,IAAI,cAC5BP,KAAKS,YAEPC,QAAS,CACPD,WACE,MAAME,EAAe,6DAAmEX,KAAKY,OAAOC,OAAOvD,KAC3G0C,KAAKc,MAAMC,IAAIJ,GACZK,MAAMC,IACLjB,KAAKL,OAASsB,EAASvB,KAAKwB,MAC5BlB,KAAKJ,SAAWuB,OAAOC,OAAOpB,KAAKL,OAAOC,UAC1CI,KAAKC,SAASC,KAAK,gBAAgB,OAGzCmB,WACErB,KAAKC,SAASC,KAAK,gBAAgB,GACnC,MAAMoB,EAAe,2DAAiEtB,KAAKY,OAAOC,OAAOvD,KACzG0C,KAAKc,MAAMS,KAAKD,GACbN,MAAMC,IACDA,EAASvB,KAAK8B,SAChBxB,KAAKS,WAEPT,KAAKC,SAASC,KAAK,gBAAgB,MAEpCuB,OAAM,KACLzB,KAAKC,SAASC,KAAK,gBAAgB,OAGzCwB,SAASC,GACP,OAAOC,OAAOC,SAASF,EAAK,IAAIxD,kBAElC2D,OAAOC,GACL,MAAMC,EAAU,IAAIC,KAAiB,IAAZF,GACzB,OAAOC,EAAQE,wB,WClKrB,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,MAEpE","sources":["webpack://jib-interior/./src/views/Front/BillView.vue","webpack://jib-interior/./src/views/Front/BillView.vue?f931"],"sourcesContent":["<template>\n  <section class=\"pt-50\">\n    <div class=\"container\">\n      <article class=\"mt-0\">\n        <div class=\"row\">\n          <div class=\"step-group col-md-6 offset-md-3\n            d-flex align-items-center justify-content-between mb-50\">\n            <div class=\"step-item text-secondary\">\n              <div class=\"fs-3\">STEP 1</div>\n              <h3 class=\"mb-0\">訂購資訊</h3>\n            </div>\n            <span class=\"material-icons-outlined text-secondary\">arrow_right_alt</span>\n            <div class=\"step-item text-secondary\">\n              <div class=\"fs-3\">STEP 2</div>\n              <h3 class=\"mb-0\">建立訂單</h3>\n            </div>\n            <span\n              class=\"material-icons-outlined\"\n              :class=\"{'text-secondary': orders.is_paid}\"\n            >arrow_right_alt</span>\n            <div class=\"step-item\" :class=\"{'text-secondary': orders.is_paid}\">\n              <div class=\"fs-3\">STEP 3</div>\n              <h3 class=\"mb-0\">完成訂單</h3>\n            </div>\n          </div>\n          <div class=\"col-md-6 mb-md-0 mb-50\">\n            <h2 class=\"mb-0\">訂單內容</h2>\n            <div class=\"cards cards-cart\">\n              <div\n                class=\"card card-horizontal\"\n                v-for=\"product in products\"\n                :key=\"product.id\"\n              >\n                <RouterLink :to=\"`/product/${product.product.id}`\" class=\"card-img me-10\">\n                  <img\n                    :src=\"`${product.product.imageUrl}`\"\n                    class=\"img-fluid\"\n                    :alt=\"`${product.product.title} 產品圖`\"\n                  >\n                  <span class=\"visually-hidden\">{{ product.product.title }}</span>\n                </RouterLink>\n                <div class=\"card-body\">\n                  <div class=\"card-text me-md-20\">\n                    <RouterLink\n                      :to=\"`/products?category=${product.product.category}`\"\n                      class=\"d-block card-label fs-4 link-secondary\"\n                    >\n                      {{ product.product.category }}\n                    </RouterLink>\n                    <RouterLink\n                      :to=\"`/product/${product.product_id}`\"\n                      class=\"d-block card-title fs-3 fw-bold\n                    \">\n                      {{ product.product.title }}\n                    </RouterLink>\n                    <div class=\"card-amount fs-4 mt-5\">數量：{{ product.qty }}</div>\n                  </div>\n                  <div class=\"card-price fs-4 mt-md-0 mt-5 text-md-end\">\n                    NT${{ product.final_total.toLocaleString() }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-6 col-order px-md-20 px-0\">\n            <div class=\"p-30 bg-bright-gray bg-opacity-25\">\n              <h2 class=\"mb-20\">訂購資訊</h2>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">訂單狀態</div>\n                <div class=\"fs-3 text-danger\" v-if=\"!orders.is_paid\">未付款</div>\n                <div class=\"fs-3 text-success\" v-else>已付款</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">訂單金額</div>\n                <h4 class=\"fs-2 mb-0\">NT$ {{ toNumber(orders.total) }}</h4>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">訂單編號</div>\n                <div class=\"fs-3\">{{ orders.id }}</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">訂單成立時間</div>\n                <div class=\"fs-3\">{{ toDate(orders.create_at) }}</div>\n              </div>\n              <hr class=\"my-20\">\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">Email</div>\n                <div class=\"fs-3\">{{ orders.user?.email }}</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">收件人姓名</div>\n                <div class=\"fs-3\">{{ orders.user?.name }}</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">聯絡電話</div>\n                <div class=\"fs-3\">{{ orders.user?.tel }}</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">收件地址</div>\n                <div class=\"fs-3\">{{ orders.user?.address }}</div>\n              </div>\n              <div class=\"d-flex align-items-center mt-20\">\n                <div class=\"order-title fs-3\">備註</div>\n                <div class=\"fs-3\">{{ orders.message }}</div>\n              </div>\n              <button\n                type=\"button\"\n                class=\"btn btn-lg btn-primary fs-3 w-100 mt-40\"\n                v-if=\"!orders.is_paid\"\n                @click=\"payOrder\"\n              >前往付款</button>\n            </div>\n          </div>\n        </div>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orders: {},\n      products: [],\n    };\n  },\n  emits: ['page-loading', 'get-cart'],\n  inject: ['provideCart'],\n  mounted() {\n    this.$emitter.emit('page-loading', false);\n    this.$emit('get-cart');\n    document.body.classList.add('index-page');\n    document.body.classList.remove('index-page');\n    document.body.classList.remove('opened-nav');\n    document.body.classList.add('inner-page');\n    this.getOrder();\n  },\n  methods: {\n    getOrder() {\n      const getOrderApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.$route.params.id}`;\n      this.$http.get(getOrderApi)\n        .then((response) => {\n          this.orders = response.data.order;\n          this.products = Object.values(this.orders.products);\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n    payOrder() {\n      this.$emitter.emit('page-loading', true);\n      const payOrderApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.$route.params.id}`;\n      this.$http.post(payOrderApi)\n        .then((response) => {\n          if (response.data.success) {\n            this.getOrder();\n          }\n          this.$emitter.emit('page-loading', false);\n        })\n        .catch(() => {\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n    toNumber(val) {\n      return Number.parseInt(val, 10).toLocaleString();\n    },\n    toDate(timestamp) {\n      const newDate = new Date(timestamp * 1000);\n      return newDate.toLocaleDateString();\n    },\n  },\n};\n</script>\n","import { render } from \"./BillView.vue?vue&type=template&id=1e781a78\"\nimport script from \"./BillView.vue?vue&type=script&lang=js\"\nexport * from \"./BillView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/huangyuting/Documents/GitHub/jib-interior/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_9","_hoisted_10","_createElementBlock","_hoisted_6","$data","is_paid","_hoisted_13","_Fragment","_renderList","product","key","id","_createVNode","_component_RouterLink","to","src","imageUrl","alt","title","_toDisplayString","category","product_id","qty","final_total","toLocaleString","_hoisted_23","_hoisted_25","_hoisted_29","$options","total","_hoisted_32","_hoisted_35","create_at","_hoisted_37","_hoisted_39","user","email","_hoisted_42","name","_hoisted_45","tel","_hoisted_48","address","_hoisted_51","message","type","onClick","data","orders","products","emits","inject","mounted","this","$emitter","emit","$emit","document","body","classList","add","remove","getOrder","methods","getOrderApi","$route","params","$http","get","then","response","order","Object","values","payOrder","payOrderApi","post","success","catch","toNumber","val","Number","parseInt","toDate","timestamp","newDate","Date","toLocaleDateString","__exports__","render"],"sourceRoot":""}