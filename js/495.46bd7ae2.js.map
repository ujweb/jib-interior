{"version":3,"file":"js/495.46bd7ae2.js","mappings":"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","sources":["webpack://jib-interior/./src/views/Front/CheckoutView.vue","webpack://jib-interior/./src/views/Front/CheckoutView.vue?89d8"],"sourcesContent":["<template>\n  <section class=\"pt-50\">\n    <div class=\"container\">\n      <article class=\"mt-0\">\n        <div class=\"row\">\n          <div\n            class=\"\n              step-group\n              col-md-6\n              offset-md-3\n              d-flex\n              align-items-center\n              justify-content-between\n              mb-50\n            \"\n          >\n            <div class=\"step-item text-secondary\">\n              <div class=\"fs-3\">STEP 1</div>\n              <h3 class=\"mb-0\">訂購資訊</h3>\n            </div>\n            <span class=\"material-icons-outlined\">arrow_right_alt</span>\n            <div class=\"step-item\">\n              <div class=\"fs-3\">STEP 2</div>\n              <h3 class=\"mb-0\">建立訂單</h3>\n            </div>\n            <span class=\"material-icons-outlined\">arrow_right_alt</span>\n            <div class=\"step-item\">\n              <div class=\"fs-3\">STEP 3</div>\n              <h3 class=\"mb-0\">完成訂單</h3>\n            </div>\n          </div>\n          <div class=\"col-md-12 mb-20\" v-if=\"provideCart.data.length !== 0\">\n            <RouterLink\n              to=\"/products?category=all\"\n              class=\"link-black d-inline-flex align-items-center\"\n            >\n              <span class=\"material-icons-outlined me-5\">chevron_left</span>\n              繼續購物\n            </RouterLink>\n          </div>\n          <div class=\"col-12\">\n            <div class=\"row\" v-if=\"provideCart.data.length > 0\">\n              <div class=\"col-md-6 mb-md-0 mb-50\">\n                <hr class=\"bg-light my-0\" />\n                <div class=\"cards cards-cart\">\n                  <div\n                    class=\"card card-horizontal\"\n                    v-for=\"cart in provideCart.data\"\n                    :key=\"cart.product_id\"\n                  >\n                    <RouterLink\n                      :to=\"`/product/${cart.product_id}`\"\n                      class=\"card-img me-10\"\n                    >\n                      <img\n                        :src=\"`${cart.product.imageUrl}`\"\n                        class=\"img-fluid\"\n                        :alt=\"`${cart.product.title} 主圖`\"\n                      />\n                      <span class=\"visually-hidden\">{{\n                        cart.product.title\n                      }}</span>\n                    </RouterLink>\n                    <div class=\"card-body\">\n                      <div class=\"card-text me-md-20\">\n                        <RouterLink\n                          :to=\"`/products?category=${cart.product.category}`\"\n                          class=\"d-block card-label fs-4 link-secondary\"\n                        >\n                          {{ cart.product.category }}\n                        </RouterLink>\n                        <RouterLink\n                          :to=\"`/product/${cart.product_id}`\"\n                          class=\"d-block card-title fs-3 fw-bold\"\n                        >\n                          {{ cart.product.title }}\n                        </RouterLink>\n                        <div class=\"card-amount fs-4 mt-5\">\n                          數量：{{ cart.qty }}\n                        </div>\n                      </div>\n                      <div class=\"card-price fs-4 mt-md-0 mt-5 text-md-end\">\n                        NT${{ cart.final_total.toLocaleString() }}\n                      </div>\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-outline-primary ms-10\"\n                        @click=\"removeCart('delete', cart.id)\"\n                      >\n                        刪除\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <hr class=\"bg-light my-0\" />\n                <div\n                  class=\"input-group mt-40 mb-30\"\n                  :class=\"{ 'pb-10': error.length > 0 }\"\n                >\n                  <label for=\"coupon\"></label>\n                  <input\n                    id=\"coupon\"\n                    type=\"text\"\n                    class=\"form-control form-control-lg fs-3 bg-white\"\n                    :readonly=\"provideCart.total !== provideCart.final_total\"\n                    :placeholder=\"\n                      provideCart.total !== provideCart.final_total\n                        ? '您已套用優惠券'\n                        : '套用優惠券'\n                    \"\n                    v-model=\"code\"\n                  />\n                  <div class=\"error fs-4 text-danger\" v-if=\"error.length > 0\">\n                    {{ error }}\n                  </div>\n                  <button\n                    class=\"btn btn-lg btn-primary fs-3\"\n                    type=\"button\"\n                    :disabled=\"\n                      provideCart.total !== provideCart.final_total || !code\n                    \"\n                    @click=\"useCoupon\"\n                  >\n                    套用優惠券\n                  </button>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-md-8 offset-md-4\">\n                    <div\n                      class=\"\n                        d-flex\n                        align-items-center\n                        justify-content-between\n                        mt-10\n                      \"\n                    >\n                      <div class=\"fs-3\">商品總計</div>\n                      <h3 class=\"fs-2\">\n                        NT$ {{ provideCart.total.toLocaleString() }}\n                      </h3>\n                    </div>\n                    <div\n                      class=\"\n                        d-flex\n                        align-items-center\n                        justify-content-between\n                        mt-10\n                      \"\n                      v-if=\"provideCart.total !== provideCart.final_total\"\n                    >\n                      <div class=\"fs-3\">優惠券折扣</div>\n                      <div class=\"fs-3\">\n                        − NT$ {{ provideCart.total - provideCart.final_total }}\n                      </div>\n                    </div>\n                    <div\n                      class=\"\n                        d-flex\n                        align-items-center\n                        justify-content-between\n                        mt-10\n                      \"\n                    >\n                      <div class=\"fs-3\">訂單總計</div>\n                      <h3 class=\"fs-2\">\n                        NT$ {{ provideCart.final_total.toLocaleString() }}\n                      </h3>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-md-6 px-md-20 px-0\">\n                <div class=\"p-30 bg-bright-gray bg-opacity-25\">\n                  <h2 class=\"mb-20\">填寫訂購資訊</h2>\n                  <FormBlock\n                    ref=\"order\"\n                    v-slot=\"{ errors }\"\n                    @submit=\"sendOrder\"\n                  >\n                    <div class=\"mb-20\">\n                      <label for=\"email\" class=\"form-label mb-10\">\n                        <span class=\"text-danger\">*</span> Email\n                      </label>\n                      <FieldInput\n                        type=\"email\"\n                        id=\"email\"\n                        name=\"Email\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['Email'] }\"\n                        placeholder=\"請輸入 Email\"\n                        rules=\"email|required\"\n                        inputmode=\"email\"\n                        v-model=\"user.email\"\n                      ></FieldInput>\n                      <ErrorMessage\n                        name=\"Email\"\n                        class=\"invalid-feedback\"\n                      ></ErrorMessage>\n                    </div>\n                    <div class=\"mb-20\">\n                      <label for=\"name\" class=\"form-label mb-10\">\n                        <span class=\"text-danger\">*</span> 收件人姓名\n                      </label>\n                      <FieldInput\n                        type=\"name\"\n                        id=\"name\"\n                        name=\"姓名\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['姓名'] }\"\n                        placeholder=\"請輸入收件人姓名\"\n                        rules=\"required\"\n                        v-model=\"user.name\"\n                      ></FieldInput>\n                      <ErrorMessage\n                        name=\"姓名\"\n                        class=\"invalid-feedback\"\n                      ></ErrorMessage>\n                    </div>\n                    <div class=\"mb-20\">\n                      <label for=\"tel\" class=\"form-label mb-10\">\n                        <span class=\"text-danger\">*</span> 聯絡電話\n                      </label>\n                      <FieldInput\n                        type=\"tel\"\n                        id=\"tel\"\n                        name=\"電話\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['電話'] }\"\n                        placeholder=\"請輸入聯絡電話\"\n                        :rules=\"isPhone\"\n                        inputmode=\"tel\"\n                        v-model=\"user.tel\"\n                      ></FieldInput>\n                      <ErrorMessage\n                        name=\"電話\"\n                        class=\"invalid-feedback\"\n                      ></ErrorMessage>\n                    </div>\n                    <div class=\"mb-20\">\n                      <label for=\"address\" class=\"form-label mb-10\">\n                        <span class=\"text-danger\">*</span> 收件地址\n                      </label>\n                      <FieldInput\n                        type=\"text\"\n                        id=\"address\"\n                        name=\"地址\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['地址'] }\"\n                        placeholder=\"請輸入收件地址\"\n                        rules=\"required\"\n                        v-model=\"user.address\"\n                      ></FieldInput>\n                      <ErrorMessage\n                        name=\"地址\"\n                        class=\"invalid-feedback\"\n                      ></ErrorMessage>\n                    </div>\n                    <div class=\"mb-40\">\n                      <label for=\"ask\" class=\"form-label mb-10\">備註</label>\n                      <textarea\n                        class=\"form-control\"\n                        id=\"ask\"\n                        rows=\"3\"\n                        v-model=\"message\"\n                        placeholder=\"請輸入備註\"\n                      ></textarea>\n                    </div>\n                    <button\n                      type=\"submit\"\n                      class=\"btn btn-lg btn-primary fs-3 w-100\"\n                    >\n                      送出訂單\n                    </button>\n                  </FormBlock>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\" v-else>\n              <div class=\"col-md-12 mb-md-0 mb-50\">\n                <div\n                  class=\"\n                    d-flex\n                    flex-column\n                    align-items-center\n                    justify-content-between\n                    py-40\n                  \"\n                >\n                  購物車內沒有商品\n                  <RouterLink\n                    to=\"/products?category=all\"\n                    class=\"\n                      btn btn-primary\n                      d-inline-flex\n                      align-items-center\n                      mt-20\n                    \"\n                  >\n                    <span class=\"material-icons-outlined me-5\"\n                      >chevron_left</span\n                    >\n                    繼續購物\n                  </RouterLink>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        email: '',\n        name: '',\n        tel: '',\n        address: '',\n      },\n      message: '',\n      code: '',\n      hasDiscount: false,\n      error: '',\n      carts: [],\n    };\n  },\n  emits: ['page-loading', 'get-cart'],\n  inject: ['provideCart'],\n  mounted() {\n    this.$emit('get-cart');\n    this.$emitter.emit('page-loading', false);\n    document.body.classList.add('index-page');\n    document.body.classList.remove('index-page');\n    document.body.classList.remove('opened-nav');\n    document.body.classList.add('inner-page');\n  },\n  methods: {\n    removeCart(type, id) {\n      this.$emitter.emit('page-loading', true);\n      let cartUrl = null;\n      if (type === 'clear') {\n        cartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      } else if (type === 'delete') {\n        cartUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      }\n      this.$http\n        .delete(cartUrl)\n        .then(() => {\n          // console.log(response);\n          this.$emitter.emit('page-loading', false);\n          this.$emitter.emit('get-cart');\n        })\n        .catch(() => {\n          // console.dir(error);\n        });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '請輸入正確的手機號碼';\n    },\n    useCoupon() {\n      this.$emitter.emit('page-loading', true);\n      const data = {\n        code: this.code,\n      };\n      const useCouponApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`;\n      this.$http\n        .post(useCouponApi, { data })\n        .then(() => {\n          // console.log(response);\n          this.$emitter.emit('page-loading', false);\n          this.$emitter.emit('get-cart');\n          this.hasDiscount = true;\n        })\n        .catch((error) => {\n          // console.dir(error);\n          this.error = error.response.data.message;\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n    clearForm() {\n      this.user = {\n        email: '',\n        name: '',\n        tel: '',\n        address: '',\n      };\n    },\n    sendOrder() {\n      this.$emitter.emit('page-loading', true);\n      const orderUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      // console.log({ data: { user: this.user, message: this.message } });\n      this.$http\n        .post(orderUrl, { data: { user: this.user, message: this.message } })\n        .then((response) => {\n          // console.log(response.data);\n          this.$emitter.emit('get-cart');\n          this.clearForm();\n          this.$router.push(`/bill/${response.data.orderId}`);\n          this.$emitter.emit('page-loading', false);\n        })\n        .catch(() => {\n          // console.log(error);\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nsection {\n  @import \"~bootstrap/scss/functions\";\n  @import \"src/assets/sass/variables\";\n  @import \"~bootstrap/scss/mixins\";\n  min-height: calc(100vh - 81px - 181px);\n  @include media-breakpoint-up(md) {\n    min-height: calc(100vh - 81px - 210px);\n  }\n  .error {\n    position: absolute;\n    top: calc(100% - 10px);\n    left: 0;\n    width: 100%;\n    padding: 0.75rem 1.5rem;\n  }\n}\n</style>\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=734c417a&scoped=true\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport \"./CheckoutView.vue?vue&type=style&index=0&id=734c417a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/huangyuting/Documents/GitHub/jib-interior/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-734c417a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_5","$options","data","length","_createVNode","_component_RouterLink","to","_hoisted_7","_hoisted_12","_Fragment","_renderList","cart","key","product_id","src","product","imageUrl","alt","title","_toDisplayString","category","qty","final_total","toLocaleString","onClick","id","_hoisted_20","_hoisted_21","$data","_hoisted_22","readonly","total","placeholder","$event","disabled","_hoisted_25","_hoisted_29","_hoisted_32","_hoisted_35","_hoisted_39","_component_FormBlock","ref","onSubmit","errors","_hoisted_41","_component_FieldInput","name","rules","inputmode","email","_component_ErrorMessage","_hoisted_43","_hoisted_45","tel","_hoisted_47","address","_hoisted_49","rows","_hoisted_50","_hoisted_55","user","message","code","hasDiscount","error","carts","emits","inject","mounted","this","$emit","$emitter","emit","document","body","classList","add","remove","methods","removeCart","cartUrl","$http","delete","then","catch","isPhone","value","phoneNumber","test","useCoupon","useCouponApi","post","response","clearForm","sendOrder","orderUrl","$router","push","orderId","__exports__","render"],"sourceRoot":""}