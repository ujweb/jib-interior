{"version":3,"file":"js/487.2acaab05.js","mappings":"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","sources":["webpack://jib-interior/./src/views/Front/ProductsView.vue","webpack://jib-interior/./src/components/ProductsNav.vue","webpack://jib-interior/./src/components/ProductsNav.vue?b3f7","webpack://jib-interior/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["<template>\n  <div class=\"discount-block bg-bright-gray px-20 py-10 fs-4 lh-1 text-center\">\n    結帳輸入 HBD2022，享有週年慶九折優惠\n  </div>\n  <section class=\"opening-inner\">\n    <img src=\"@/assets/images/kv-products.jpg\" alt=\"家具選購 示意圖\" />\n    <h1 class=\"mb-0 serif\">家具選購</h1>\n  </section>\n  <section class=\"pt-50\">\n    <div class=\"container\">\n      <article class=\"mt-md-50 mt-0\">\n        <div class=\"row\">\n          <div class=\"col-xl-2 col-md-3 col-sticky\">\n            <products-nav\n              :categories=\"category\"\n              @emit-change-category=\"changeCategory\"\n            />\n          </div>\n          <div class=\"col-xl-10 col-md-9\">\n            <div class=\"row cards cards-products\">\n              <div\n                class=\"col-xl-3 col-md-4 col-6 card card-vertical\"\n                v-for=\"product in products\"\n                :key=\"product.id\"\n              >\n                <RouterLink :to=\"`/product/${product.id}`\">\n                  <img\n                    :src=\"product.imageUrl\"\n                    class=\"card-img img-fluid\"\n                    :alt=\"`${product.title}-主圖`\"\n                  />\n                  <span class=\"visually-hidden\">{{ product.title }}}</span>\n                </RouterLink>\n                <div class=\"card-body mt-10 text-center\">\n                  <button\n                    type=\"button\"\n                    @click=\"changeCategory(product.category)\"\n                    class=\"d-block card-label fs-4 link-secondary\"\n                  >\n                    {{ product.category }}\n                  </button>\n                  <RouterLink\n                    :to=\"`/product/${product.id}`\"\n                    class=\"d-block card-title fs-3 fw-bold\"\n                  >\n                    {{ product.title }}\n                  </RouterLink>\n                  <div class=\"card-price fs-4 text-gray-300 mt-10 mb-0\">\n                    NT${{ product.price.toLocaleString() }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nimport ProductsNav from '@/components/ProductsNav.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      category: {\n        now: '',\n        list: [],\n      },\n    };\n  },\n  emits: ['page-loading', 'get-cart'],\n  components: {\n    ProductsNav,\n  },\n  mounted() {\n    this.$emitter.emit('page-loading', true);\n    document.body.classList.add('index-page');\n    document.body.classList.remove('index-page');\n    document.body.classList.remove('opened-nav');\n    document.body.classList.add('inner-page');\n\n    this.getCategories();\n    if (this.$route.query.category !== 'all') {\n      this.category.now = this.$route.query.category;\n      this.changeCategory(this.$route.query.category);\n    } else if (\n      this.$route.query === {}\n      || this.$route.query.category === 'all'\n    ) {\n      this.category.now = 'all';\n      this.getProducts();\n    }\n  },\n  methods: {\n    getCategories() {\n      const getProductsApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(getProductsApi)\n        .then((response) => {\n          const unSortCategory = response.data.products.map(\n            (item) => item.category,\n          );\n          const sortedCategory = unSortCategory.filter(\n            (item, i) => unSortCategory.indexOf(item) === i,\n          );\n          this.category.list = sortedCategory;\n        })\n        .catch(() => {\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n    getProducts() {\n      let getProductsApi = '';\n      if (\n        this.category.now === 'all'\n        || this.category.now === 'undefined'\n        || this.category.now === ''\n      ) {\n        getProductsApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n        this.$router.push('/products?category=all');\n      } else {\n        getProductsApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=1&category=${this.category.now}`;\n        this.$router.push(`/products?category=${this.category.now}`);\n      }\n      this.$http\n        .get(getProductsApi)\n        .then((response) => {\n          this.products = response.data.products.reverse(); // 最新的往上\n          this.$emitter.emit('page-loading', false);\n        })\n        .catch(() => {\n          // console.log(error);\n          this.$emitter.emit('page-loading', false);\n        });\n    },\n    changeCategory(value) {\n      this.$emitter.emit('page-loading', true);\n      this.category.now = value;\n      this.getProducts();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~bootstrap/scss/functions\";\n@import \"src/assets/sass/variables\";\n@import \"~bootstrap/scss/mixins\";\nbutton.link-secondary {\n  padding: 0;\n  margin: auto;\n  color: $grullo;\n  border-width: 0;\n  background-color: transparent;\n  &:hover {\n    color: $gold-fusion;\n  }\n}\n</style>\n","<template>\n  <ul class=\"d-md-block d-none\">\n    <li>\n      <button\n        type=\"button\"\n        class=\"btn-link\"\n        :class=\"{ active: categories.now === 'all' }\"\n        @click=\"$emit('emit-change-category', 'all')\"\n      >\n        全部\n      </button>\n    </li>\n    <li v-for=\"category in categories.list\" :key=\"`list-${category}`\">\n      <button\n        type=\"button\"\n        class=\"btn-link\"\n        :class=\"{ active: categories.now === category }\"\n        @click=\"$emit('emit-change-category', category)\"\n      >\n        {{ category }}\n      </button>\n    </li>\n  </ul>\n  <select\n    class=\"form-select form-select-lg fs-3 d-md-none mb-50\"\n    v-model=\"selectCategory\"\n    @change=\"$emit('emit-change-category', selectCategory)\"\n  >\n    <option value=\"all\">全部</option>\n    <option value=\"沙發\">沙發</option>\n    <option value=\"桌子\">桌子</option>\n    <option value=\"椅子\">椅子</option>\n    <option value=\"系統櫃 / 收納櫃\">系統櫃 / 收納櫃</option>\n    <option value=\"床組 / 寢具\">床組 / 寢具</option>\n    <option value=\"燈具照明\">燈具照明</option>\n    <option value=\"廚房 / 餐具\">廚房 / 餐具</option>\n  </select>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      selectCategory: 'all',\n    };\n  },\n  props: ['categories'],\n  emits: ['emit-change-category'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\nbutton.btn-link {\n  padding-left: 0;\n  padding-right: 0;\n  border-left-width: 0;\n  border-right-width: 0;\n  background-color: transparent;\n}\n</style>\n","import { render } from \"./ProductsNav.vue?vue&type=template&id=05d08c60&scoped=true\"\nimport script from \"./ProductsNav.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsNav.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsNav.vue?vue&type=style&index=0&id=05d08c60&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/huangyuting/Documents/GitHub/jib-interior/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05d08c60\"]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=59f14e4b&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=59f14e4b&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/huangyuting/Documents/GitHub/jib-interior/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-59f14e4b\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","_hoisted_1","_hoisted_2","_createVNode","_component_products_nav","categories","$data","onEmitChangeCategory","$options","_createElementBlock","_Fragment","_renderList","product","key","id","_component_RouterLink","to","imageUrl","title","_toDisplayString","type","onClick","category","_hoisted_13","price","toLocaleString","_hoisted_3","active","$props","now","_ctx","list","$event","onChange","data","selectCategory","props","emits","__exports__","products","components","ProductsNav","mounted","this","$emitter","emit","document","body","classList","add","remove","getCategories","$route","query","changeCategory","getProducts","methods","getProductsApi","$http","get","then","response","unSortCategory","map","item","sortedCategory","filter","i","indexOf","catch","$router","push","reverse","value","render"],"sourceRoot":""}