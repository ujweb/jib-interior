"use strict";(self["webpackChunkjib_interior"]=self["webpackChunkjib_interior"]||[]).push([[487],{2487:function(t,e,o){o.r(e),o.d(e,{default:function(){return E}});var a=o(6252),c=o(3577),i=o(4993);const s=t=>((0,a.dD)("data-v-59f14e4b"),t=t(),(0,a.Cn)(),t),r=s((()=>(0,a._)("div",{class:"discount-block bg-bright-gray px-20 py-10 fs-4 lh-1 text-center"}," 結帳輸入 HBD2022，享有週年慶九折優惠 ",-1))),l=s((()=>(0,a._)("section",{class:"opening-inner"},[(0,a._)("img",{src:i,alt:"家具選購 示意圖"}),(0,a._)("h1",{class:"mb-0 serif"},"家具選購")],-1))),n={class:"pt-50"},d={class:"container"},g={class:"mt-md-50 mt-0"},u={class:"row"},p={class:"col-xl-2 col-md-3 col-sticky"},h={class:"col-xl-10 col-md-9"},y={class:"row cards cards-products"},m=["src","alt"],v={class:"visually-hidden"},w={class:"card-body mt-10 text-center"},b=["onClick"],_={class:"card-price fs-4 text-gray-300 mt-10 mb-0"};function f(t,e,o,i,s,f){const C=(0,a.up)("products-nav"),$=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[r,l,(0,a._)("section",n,[(0,a._)("div",d,[(0,a._)("article",g,[(0,a._)("div",u,[(0,a._)("div",p,[(0,a.Wm)(C,{categories:s.category,onEmitChangeCategory:f.changeCategory},null,8,["categories","onEmitChangeCategory"])]),(0,a._)("div",h,[(0,a._)("div",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.products,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col-xl-3 col-md-4 col-6 card card-vertical",key:t.id},[(0,a.Wm)($,{to:`/product/${t.id}`},{default:(0,a.w5)((()=>[(0,a._)("img",{src:t.imageUrl,class:"card-img img-fluid",alt:`${t.title}-主圖`},null,8,m),(0,a._)("span",v,(0,c.zw)(t.title)+"}",1)])),_:2},1032,["to"]),(0,a._)("div",w,[(0,a._)("button",{type:"button",onClick:e=>f.changeCategory(t.category),class:"d-block card-label fs-4 link-secondary"},(0,c.zw)(t.category),9,b),(0,a.Wm)($,{to:`/product/${t.id}`,class:"d-block card-title fs-3 fw-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(t.title),1)])),_:2},1032,["to"]),(0,a._)("div",_," NT$"+(0,c.zw)(t.price.toLocaleString()),1)])])))),128))])])])])])])],64)}var C=o(9963);const $={class:"d-md-block d-none"},k=["onClick"],x=(0,a.uE)('<option value="all" data-v-05d08c60>全部</option><option value="沙發" data-v-05d08c60>沙發</option><option value="桌子" data-v-05d08c60>桌子</option><option value="椅子" data-v-05d08c60>椅子</option><option value="系統櫃 / 收納櫃" data-v-05d08c60>系統櫃 / 收納櫃</option><option value="床組 / 寢具" data-v-05d08c60>床組 / 寢具</option><option value="燈具照明" data-v-05d08c60>燈具照明</option><option value="廚房 / 餐具" data-v-05d08c60>廚房 / 餐具</option>',8),D=[x];function j(t,e,o,i,s,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("ul",$,[(0,a._)("li",null,[(0,a._)("button",{type:"button",class:(0,c.C_)(["btn-link",{active:"all"===o.categories.now}]),onClick:e[0]||(e[0]=e=>t.$emit("emit-change-category","all"))}," 全部 ",2)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.categories.list,(e=>((0,a.wg)(),(0,a.iD)("li",{key:`list-${e}`},[(0,a._)("button",{type:"button",class:(0,c.C_)(["btn-link",{active:o.categories.now===e}]),onClick:o=>t.$emit("emit-change-category",e)},(0,c.zw)(e),11,k)])))),128))]),(0,a.wy)((0,a._)("select",{class:"form-select form-select-lg fs-3 d-md-none mb-50","onUpdate:modelValue":e[1]||(e[1]=t=>s.selectCategory=t),onChange:e[2]||(e[2]=e=>t.$emit("emit-change-category",s.selectCategory))},D,544),[[C.bM,s.selectCategory]])],64)}var L={data(){return{selectCategory:"all"}},props:["categories"],emits:["emit-change-category"]},q=o(3744);const z=(0,q.Z)(L,[["render",j],["__scopeId","data-v-05d08c60"]]);var H=z,P={data(){return{products:[],category:{now:"",list:[]}}},emits:["page-loading","get-cart"],components:{ProductsNav:H},mounted(){this.$emitter.emit("page-loading",!0),document.body.classList.add("index-page"),document.body.classList.remove("index-page"),document.body.classList.remove("opened-nav"),document.body.classList.add("inner-page"),this.getCategories(),"all"!==this.$route.query.category?(this.category.now=this.$route.query.category,this.changeCategory(this.$route.query.category)):this.$route.query!=={}&&"all"!==this.$route.query.category||(this.category.now="all",this.getProducts())},methods:{getCategories(){const t="https://vue3-course-api.hexschool.io/v2/api/ujhwang/products/all";this.$http.get(t).then((t=>{const e=t.data.products.map((t=>t.category)),o=e.filter(((t,o)=>e.indexOf(t)===o));this.category.list=o})).catch((()=>{this.$emitter.emit("page-loading",!1)}))},getProducts(){let t="";"all"===this.category.now||"undefined"===this.category.now||""===this.category.now?(t="https://vue3-course-api.hexschool.io/v2/api/ujhwang/products/all",this.$router.push("/products?category=all")):(t=`https://vue3-course-api.hexschool.io/v2/api/ujhwang/products?page=1&category=${this.category.now}`,this.$router.push(`/products?category=${this.category.now}`)),this.$http.get(t).then((t=>{this.products=t.data.products.reverse(),this.$emitter.emit("page-loading",!1)})).catch((()=>{this.$emitter.emit("page-loading",!1)}))},changeCategory(t){this.$emitter.emit("page-loading",!0),this.category.now=t,this.getProducts()}}};const Y=(0,q.Z)(P,[["render",f],["__scopeId","data-v-59f14e4b"]]);var E=Y},4993:function(t,e,o){t.exports=o.p+"img/kv-products.ef850c51.jpg"}}]);
//# sourceMappingURL=487.2acaab05.js.map