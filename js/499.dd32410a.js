"use strict";(self["webpackChunkjib_interior"]=self["webpackChunkjib_interior"]||[]).push([[499],{8499:function(s,t,e){e.r(t),e.d(t,{default:function(){return ds}});var a=e(6252),i=e(3577);const d={class:"pt-50"},r={class:"container"},c={class:"mt-0"},l={class:"row"},o={class:"step-group col-md-6 offset-md-3 d-flex align-items-center justify-content-between mb-50"},n=(0,a.uE)('<div class="step-item text-secondary"><div class="fs-3">STEP 1</div><h3 class="mb-0">訂購資訊</h3></div><span class="material-icons-outlined text-secondary">arrow_right_alt</span><div class="step-item text-secondary"><div class="fs-3">STEP 2</div><h3 class="mb-0">建立訂單</h3></div>',3),m=(0,a._)("div",{class:"fs-3"},"STEP 3",-1),u=(0,a._)("h3",{class:"mb-0"},"完成訂單",-1),p=[m,u],_={class:"col-md-6 mb-md-0 mb-50"},v=(0,a._)("h2",{class:"mb-0"},"訂單內容",-1),g={class:"cards cards-cart"},f=["src","alt"],h={class:"visually-hidden"},b={class:"card-body"},w={class:"card-text me-md-20"},y={class:"card-amount fs-4 mt-5"},x={class:"card-price fs-4 mt-md-0 mt-5 text-md-end"},$={class:"col-md-6 col-order px-md-20 px-0"},k={class:"p-30 bg-bright-gray bg-opacity-25"},z=(0,a._)("h2",{class:"mb-20"},"訂購資訊",-1),D={class:"d-flex align-items-center mt-20"},L=(0,a._)("div",{class:"order-title fs-3"},"訂單狀態",-1),j={key:0,class:"fs-3 text-danger"},O={key:1,class:"fs-3 text-success"},C={class:"d-flex align-items-center mt-20"},S=(0,a._)("div",{class:"order-title fs-3"},"訂單金額",-1),E={class:"fs-2 mb-0"},N={class:"d-flex align-items-center mt-20"},T=(0,a._)("div",{class:"order-title fs-3"},"訂單編號",-1),P={class:"fs-3"},U={class:"d-flex align-items-center mt-20"},W=(0,a._)("div",{class:"order-title fs-3"},"訂單成立時間",-1),q={class:"fs-3"},H=(0,a._)("hr",{class:"my-20"},null,-1),I={class:"d-flex align-items-center mt-20"},K=(0,a._)("div",{class:"order-title fs-3"},"Email",-1),R={class:"fs-3"},Y={class:"d-flex align-items-center mt-20"},Z=(0,a._)("div",{class:"order-title fs-3"},"收件人姓名",-1),A={class:"fs-3"},B={class:"d-flex align-items-center mt-20"},F=(0,a._)("div",{class:"order-title fs-3"},"聯絡電話",-1),G={class:"fs-3"},J={class:"d-flex align-items-center mt-20"},M=(0,a._)("div",{class:"order-title fs-3"},"收件地址",-1),Q={class:"fs-3"},V={class:"d-flex align-items-center mt-20"},X=(0,a._)("div",{class:"order-title fs-3"},"備註",-1),ss={class:"fs-3"};function ts(s,t,e,m,u,ts){const es=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("section",d,[(0,a._)("div",r,[(0,a._)("article",c,[(0,a._)("div",l,[(0,a._)("div",o,[n,(0,a._)("span",{class:(0,i.C_)(["material-icons-outlined",{"text-secondary":u.orders.is_paid}])},"arrow_right_alt",2),(0,a._)("div",{class:(0,i.C_)(["step-item",{"text-secondary":u.orders.is_paid}])},p,2)]),(0,a._)("div",_,[v,(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.products,(s=>((0,a.wg)(),(0,a.iD)("div",{class:"card card-horizontal",key:s.id},[(0,a.Wm)(es,{to:`/product/${s.product.id}`,class:"card-img me-10"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:`${s.product.imageUrl}`,class:"img-fluid",alt:`${s.product.title} 產品圖`},null,8,f),(0,a._)("span",h,(0,i.zw)(s.product.title),1)])),_:2},1032,["to"]),(0,a._)("div",b,[(0,a._)("div",w,[(0,a.Wm)(es,{to:`/products?category=${s.product.category}`,class:"d-block card-label fs-4 link-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(s.product.category),1)])),_:2},1032,["to"]),(0,a.Wm)(es,{to:`/product/${s.product_id}`,class:"d-block card-title fs-3 fw-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(s.product.title),1)])),_:2},1032,["to"]),(0,a._)("div",y,"數量："+(0,i.zw)(s.qty),1)]),(0,a._)("div",x," NT$"+(0,i.zw)(s.final_total.toLocaleString()),1)])])))),128))])]),(0,a._)("div",$,[(0,a._)("div",k,[z,(0,a._)("div",D,[L,u.orders.is_paid?((0,a.wg)(),(0,a.iD)("div",O,"已付款")):((0,a.wg)(),(0,a.iD)("div",j,"未付款"))]),(0,a._)("div",C,[S,(0,a._)("h4",E,"NT$ "+(0,i.zw)(ts.toNumber(u.orders.total)),1)]),(0,a._)("div",N,[T,(0,a._)("div",P,(0,i.zw)(u.orders.id),1)]),(0,a._)("div",U,[W,(0,a._)("div",q,(0,i.zw)(ts.toDate(u.orders.create_at)),1)]),H,(0,a._)("div",I,[K,(0,a._)("div",R,(0,i.zw)(u.orders.user?.email),1)]),(0,a._)("div",Y,[Z,(0,a._)("div",A,(0,i.zw)(u.orders.user?.name),1)]),(0,a._)("div",B,[F,(0,a._)("div",G,(0,i.zw)(u.orders.user?.tel),1)]),(0,a._)("div",J,[M,(0,a._)("div",Q,(0,i.zw)(u.orders.user?.address),1)]),(0,a._)("div",V,[X,(0,a._)("div",ss,(0,i.zw)(u.orders.message),1)]),u.orders.is_paid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-lg btn-primary fs-3 w-100 mt-40",onClick:t[0]||(t[0]=(...s)=>ts.payOrder&&ts.payOrder(...s))},"前往付款"))])])])])])])}var es={data(){return{orders:{},products:[]}},emits:["page-loading","get-cart"],inject:["provideCart"],mounted(){this.$emitter.emit("page-loading",!1),this.$emit("get-cart"),document.body.classList.add("index-page"),document.body.classList.remove("index-page"),document.body.classList.remove("opened-nav"),document.body.classList.add("inner-page"),this.getOrder()},methods:{getOrder(){const s=`https://vue3-course-api.hexschool.io/v2/api/ujhwang/order/${this.$route.params.id}`;this.$http.get(s).then((s=>{this.orders=s.data.order,this.products=Object.values(this.orders.products),this.$emitter.emit("page-loading",!1)}))},payOrder(){this.$emitter.emit("page-loading",!0);const s=`https://vue3-course-api.hexschool.io/v2/api/ujhwang/pay/${this.$route.params.id}`;this.$http.post(s).then((s=>{s.data.success&&this.getOrder(),this.$emitter.emit("page-loading",!1)})).catch((()=>{this.$emitter.emit("page-loading",!1)}))},toNumber(s){return Number.parseInt(s,10).toLocaleString()},toDate(s){const t=new Date(1e3*s);return t.toLocaleDateString()}}},as=e(3744);const is=(0,as.Z)(es,[["render",ts]]);var ds=is}}]);
//# sourceMappingURL=499.dd32410a.js.map